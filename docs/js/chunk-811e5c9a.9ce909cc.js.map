{"version":3,"sources":["webpack:///./src/views/DeviceConsole.vue?7de3","webpack:///./src/views/DeviceConsole.vue?21a4","webpack:///src/views/DeviceConsole.vue","webpack:///./src/views/DeviceConsole.vue?7f9e","webpack:///./src/views/DeviceConsole.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DeviceConsole_vue_vue_type_style_index_0_id_df8015d4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DeviceConsole_vue_vue_type_style_index_0_id_df8015d4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticStyle","border","background-color","undefined","productListData","List","attrs","default-openeds","_l","product","deviceList","key","ProductKey","index","slot","staticClass","_v","_s","ProductName","device","DeviceName","to","name","params","pk","dn","_e","staticRenderFns","DeviceConsolevue_type_script_lang_js_client","client","DeviceConsolevue_type_script_lang_js_","data","deviceName","beforeMount","getData","watch","methods","getDevices","queryDevice","CurrentPage","PageSize","then","response","d","Data","DeviceInfo","catch","err","console","log","that","queryProductList","ProductInfo","forEach","element","array","Description","indexOf","components","views_DeviceConsolevue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"2IAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAyeE,EAAG,8CCA5e,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,gBAA0BE,YAAA,CAAaC,OAAA,mBAA2B,CAAAH,EAAA,YAAiBE,YAAA,CAAaE,mBAAA,uBAAyC,MAAAC,IAAAT,EAAAU,gBAAAC,KAAAP,EAAA,WAAyDQ,MAAA,CAAOC,kBAAA,QAAyBb,EAAAc,GAAAd,EAAAU,gBAAAC,KAAA,qBAAAI,GAAiE,YAAAN,IAAAM,EAAAC,WAAAZ,EAAA,cAA2Da,IAAAF,EAAAG,WAAAN,MAAA,CAA8BG,UAAAI,MAAAJ,EAAAG,aAA8C,CAAAd,EAAA,YAAiBgB,KAAA,SAAa,CAAAhB,EAAA,KAAUiB,YAAA,iBAA2BrB,EAAAsB,GAAA,eAAAtB,EAAAuB,GAAAR,EAAAS,aAAA,qBAAAf,IAAAM,EAAAC,WAAAhB,EAAAc,GAAAC,EAAA,oBAAAU,GAAoJ,OAAArB,EAAA,gBAA0Ba,IAAAQ,EAAAC,WAAAd,MAAA,CAA6BO,MAAAJ,EAAAG,WAAA,IAAAO,EAAAC,aAAsD,CAAAtB,EAAA,KAAUiB,YAAA,oBAA8BjB,EAAA,eAAoBQ,MAAA,CAAOe,GAAA,CAAMC,KAAA,UAAAC,OAAA,CAA0BC,GAAAf,EAAAG,WAAAa,GAAAN,EAAAC,eAAiD,CAAA1B,EAAAsB,GAAAtB,EAAAuB,GAAAE,EAAAC,gBAAA,KAA0C1B,EAAAgC,MAAA,GAAAhC,EAAAgC,OAAwB,GAAAhC,EAAAgC,MAAA,GAAA5B,EAAA,oBAC7hC6B,EAAA,2BCqCAC,EAAA,IAAAC,EAAA,KAEAC,EAAA,CACAR,KAAA,SACAS,KAFA,WAGA,OACAC,WAAA,GACA5B,gBAAA,KAGA6B,YARA,WASAtC,KAAAuC,WAEAC,MAAA,GACAC,QAAA,CACAC,WADA,SACA5B,GAIAmB,EACAU,YAAA,CACA1B,WAAAH,EAAAG,WACA2B,YAAA,EACAC,SAAA,KAEAC,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAX,KAAAa,UAEAzC,IAAAwC,IACAlC,EAAAC,WAAAiC,EAAAE,cAGAC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAGAb,QAtBA,WAwBA,IAAAgB,EAAAvD,KAEAiC,EACAuB,iBAAA,CACAZ,YAAA,EACAC,SAAA,KAEAC,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAX,KAAAa,KAGAD,EAAAtC,KAAA+C,YAAAC,QAAA,SAAAC,EAAAzC,EAAA0C,GAEAD,EAAAE,aACAF,EAAAE,YAAAC,QAAA,aAEAH,EAAA5C,WAAA,GAEAwC,EAAAb,WAAAiB,MAMAJ,EAAA9C,gBAAAuC,IAEAG,MAAA,SAAAC,GACAC,QAAAC,IAAAF,OAIAW,WAAA,IC3GuVC,EAAA,0BCQvVC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAlE,EACAkC,GACF,EACA,KACA,WACA,MAIAiC,EAAAG,QAAAC,OAAA,oBACeC,EAAA,WAAAL","file":"js/chunk-811e5c9a.9ce909cc.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceConsole.vue?vue&type=style&index=0&id=df8015d4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceConsole.vue?vue&type=style&index=0&id=df8015d4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticStyle:{\"border\":\"1px solid #eee\"}},[_c('el-aside',{staticStyle:{\"background-color\":\"rgb(238, 241, 246)\"}},[(_vm.productListData.List !== undefined)?_c('el-menu',{attrs:{\"default-openeds\":['2']}},_vm._l((_vm.productListData.List.ProductInfo),function(product){return (product.deviceList !== undefined)?_c('el-submenu',{key:product.ProductKey,attrs:{\"product\":product,\"index\":product.ProductKey}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"\\n          \"+_vm._s(product.ProductName)+\"\\n        \")]),(product.deviceList !== undefined)?_vm._l((product.deviceList),function(device){return _c('el-menu-item',{key:device.DeviceName,attrs:{\"index\":product.ProductKey + '_' + device.DeviceName}},[_c('i',{staticClass:\"el-icon-setting\"}),_c('router-link',{attrs:{\"to\":{name: 'console', params: {pk: product.ProductKey, dn: device.DeviceName}}}},[_vm._v(_vm._s(device.DeviceName))])],1)}):_vm._e()],2):_vm._e()}),1):_vm._e()],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container style=\"border: 1px solid #eee\">\n    <el-aside style=\"background-color: rgb(238, 241, 246)\">\n      <el-menu v-if=\"productListData.List !== undefined\" :default-openeds=\"['2']\">\n        <el-submenu\n          v-for=\"product in productListData.List.ProductInfo\"\n          v-if=\"product.deviceList !== undefined\"\n          :key=\"product.ProductKey\"\n          :product=\"product\"\n          :index=\"product.ProductKey\"\n        >\n          <template slot=\"title\">\n            <i class=\"el-icon-menu\"></i>\n            {{product.ProductName}}\n          </template>\n          <template v-if=\"product.deviceList !== undefined\">\n            <el-menu-item\n              v-for=\"device in product.deviceList\"\n              :key=\"device.DeviceName\"\n              :index=\"product.ProductKey + '_' + device.DeviceName\"\n            >\n              <i class=\"el-icon-setting\"></i>\n              <router-link\n                :to=\"{name: 'console', params: {pk: product.ProductKey, dn: device.DeviceName}}\"\n              >{{device.DeviceName}}</router-link>\n            </el-menu-item>\n          </template>\n        </el-submenu>\n      </el-menu>\n    </el-aside>\n\n    <router-view></router-view>\n  </el-container>\n</template>\n\n<script>\nimport iotClient from \"../lib/iot/client.js\";\n\nvar client = new iotClient();\n\nexport default {\n  name: \"device\",\n  data() {\n    return {\n      deviceName: \"\",\n      productListData: {}\n    };\n  },\n  beforeMount() {\n    this.getData();\n  },\n  watch: {},\n  methods: {\n    getDevices(product) {\n      //获取设备列表\n      const that = this;\n\n      client\n        .queryDevice({\n          ProductKey: product.ProductKey,\n          CurrentPage: 1,\n          PageSize: 10\n        })\n        .then(response => {\n          var d = response.data.Data;\n\n          if (d !== undefined) {\n            product.deviceList = d.DeviceInfo;\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    getData() {\n      //获取产品列表\n      const that = this;\n\n      client\n        .queryProductList({\n          CurrentPage: 1,\n          PageSize: 10\n        })\n        .then(response => {\n          var d = response.data.Data;\n\n          // 查询每个产品下的设备\n          d.List.ProductInfo.forEach(function(element, index, array) {\n            if (\n              element.Description &&\n              element.Description.indexOf(\"demo\") >= 0\n            ) {\n              element.deviceList = {}; // 此行很重要，无此则无法刷新设备列表\n\n              that.getDevices(element);\n            } else {\n              // array.splice(index, 1);\n            }\n          });\n\n          that.productListData = d;\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  },\n  components: {}\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.el-container {\n  margin: auto;\n}\n\n.el-header {\n  background-color: #164077;\n  color: #ffffff;\n  line-height: 60px;\n  text-align: right;\n  /* font-size: 12px; */\n}\n\n.el-aside {\n  color: #333;\n}\n\na {\n  text-decoration: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceConsole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceConsole.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeviceConsole.vue?vue&type=template&id=df8015d4&scoped=true&\"\nimport script from \"./DeviceConsole.vue?vue&type=script&lang=js&\"\nexport * from \"./DeviceConsole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DeviceConsole.vue?vue&type=style&index=0&id=df8015d4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df8015d4\",\n  null\n  \n)\n\ncomponent.options.__file = \"DeviceConsole.vue\"\nexport default component.exports"],"sourceRoot":""}